local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "DrakoScripts | Library",
   LoadingTitle = "DrakoScripts Hub",
   LoadingSubtitle = "by DrakoScripts",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "DrakoScripts Hub",
      FileName = "DrakoScripts Library"
   },
   Discord = {
      Enabled = false,
      Invite = "",
      RememberJoins = true
   },
   KeySystem = false
})

-- SCRIPT BUTTON DATA
local buttonData = {
    ["Steal A Brainrot (Instant Steal)"] =
        'loadstring(game:HttpGet("https://raw.githubusercontent.com/SCRlPT-HUB/StealABrainrot/refs/heads/main/InstantSteal"))()',

    ["Adopt Me (Pet Spawner V1)"] =
        'loadstring(game:HttpGet("https://pastefy.app/AOeUfQj7/raw"))()',

    ["Murder Mystery 2 (Autofarm snowflakes)"] =
        'loadstring(game:HttpGet("https://pastefy.app/fXUb0SDq/raw"))()'
}

local lastUsedScript = "None"

-- EXECUTE FUNCTION
local function ExecuteScript(name, scriptCode)
    if not scriptCode or scriptCode == "" then
        Rayfield:Notify({
           Title = "Empty Script",
           Content = "No script provided for " .. name,
           Duration = 3,
           Image = 4483362458,
        })
        return
    end

    lastUsedScript = name

    Rayfield:Notify({
       Title = "Executing",
       Content = name,
       Duration = 3,
       Image = 4483362458,
    })

    local success, err = pcall(function()
        local func = loadstring(scriptCode)
        if func then
            func()
        else
            error("Failed to parse script")
        end
    end)

    if not success then
        Rayfield:Notify({
           Title = "Error",
           Content = "Check Console (F9).",
           Duration = 5,
           Image = 4483362458,
        })
        warn("Execution Error:", err)
    else
        Rayfield:Notify({
           Title = "Success",
           Content = name .. " is running!",
           Duration = 3,
           Image = 4483362458,
        })
    end
end

-- ALL TAB
local AllTab = Window:CreateTab("ALL", 4483362458)
for name, scriptCode in pairs(buttonData) do
    AllTab:CreateButton({
       Name = name,
       Callback = function()
           ExecuteScript(name, scriptCode)
       end,
    })
end

-- ADOPT ME TAB
local AdoptMeTab = Window:CreateTab("ADM", 4483362458)
for name, scriptCode in pairs(buttonData) do
    if name:find("Adopt Me") then
        AdoptMeTab:CreateButton({
           Name = "Pet Spawner V1",
           Callback = function()
               ExecuteScript(name, scriptCode)
           end,
        })
    end
end

-- MM2 TAB
local MM2Tab = Window:CreateTab("MM2", 4483362458)
for name, scriptCode in pairs(buttonData) do
    if name:find("Murder Mystery 2") then
        MM2Tab:CreateButton({
           Name = "Autofarm Snowflakes",
           Callback = function()
               ExecuteScript(name, scriptCode)
           end,
        })
    end
end

-- STEAL A BRAINROT TAB
local BrainrotTab = Window:CreateTab("STEAL A BRAINROT", 4483362458)
for name, scriptCode in pairs(buttonData) do
    if name:find("Steal A Brainrot") then
        BrainrotTab:CreateButton({
           Name = "Instant Steal",
           Callback = function()
               ExecuteScript(name, scriptCode)
           end,
        })
    end
end

-- INFO TAB
local InfoTab = Window:CreateTab("Info", 4483362458)

InfoTab:CreateSection("Community")
InfoTab:CreateButton({
   Name = "Copy Discord Server",
   Callback = function()
       setclipboard("https://discord.gg/jgvEZc6FbK")
       Rayfield:Notify({
          Title = "Copied!",
          Content = "Discord link copied to clipboard.",
          Duration = 3,
          Image = 4483362458,
       })
   end,
})

InfoTab:CreateParagraph({
    Title = "Sub To My Yt For More Updates:",
    Content = "https://youtube.com/@drakoscripts-yt?si=5W63XD9CCcgIWVhk"
})

InfoTab:CreateSection("History")
InfoTab:CreateButton({
   Name = "Show Last Used",
   Callback = function()
       Rayfield:Notify({
          Title = "Last Script",
          Content = lastUsedScript,
          Duration = 4,
          Image = 4483362458,
       })
   end,
})

Rayfield:LoadConfiguration()
